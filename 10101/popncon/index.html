<!DOCTYPE html>
<html>
    <head>



<title>なるべく安くポップンコントローラを作る | おおん official site</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" href="/style.css" />
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="google-site-verification" content="b8wznNdYrkyAnOPEoY_3beDPOS_imUZahJw-EesJRLg" />

    </head>
    <body class="is-preload">
        <div id="page-wrapper">
<header id="header">
    <h1>おおん official site</h1>
    <nav id="nav">
        <ul>
            <li><a href="https://uo-oon.github.io">Home</a></li>
            <li><a href="https://uo-oon.github.io/post">Blog</a></li>
            <li><a href="https://uo-oon.github.io/tags">Tag</a></li>
            <li><a href="https://uo-oon.github.io/20200807/profile/">Profile</a></li>
            <li>
                <a href="#" class="icon solid fa-angle-down">工事中</a>
                <ul><li><a href="/">工事中</a></li><li><a href="/">工事中</a></li></ul>
            </li>
            
            
            
            
        </ul>
    </nav>
</header>
<section id="main" class="container ">
  <header>
    <h2>なるべく安くポップンコントローラを作る</h2>
    
  </header>
  <div class="box">
    
    <center><h2>自作ポップンコントローラの制作</h2></center>
<div style="padding: 10px; border: solid 1px #DFDFDF; background-color: #F5F5F5;">■目次<br>
<a href="#i1">1. 作ったもの</a><br>
<a href="#i2">2. 費用と必要なもの</a><br>
<a href="#i3">3. 箱の用意</a><br>
<a href="#i4">4. ボタンと回路の用意</a><br>
<a href="#i5">5. arduinoの用意</a><br>
<a href="#i6">6. ボタンとarduinoの接続</a><br>
<a href="#i7">7. 塗装</a><br>
<a href="#i8">8. 思ったこと</a></div>
<p>
<a id = "i1"> </a><br>
<h3 >1. 作ったもの</h3>
まず今回作ったコントローラは以下の写真のものである。
<br><br>
<img src="/images/20200905/IMG_5131.JPG" alt="popncon" />
<img src="/images/20200905/IMG_5130.JPG" alt="popncon" /><br>
バネは三和160g(200gの2巻切り)、スイッチ(オムロン0.49N)<br>
ボタンは中華製の格安ボタン<br>
主にpms用であり、ps2には対応していない。<br>
<br>
<p><a id = "i2"> </a><br></p>
<h3 >2. 費用と使用した道具</h3>
買ったもの<br>
<table border = "1" align="center">
<tr>
<td align="center"><b>もの</b></td>
<td align="center"><b>値段(送料込み)</b></td>
<td align="center"><b>入手場所</b></td>
</tr>
<tr>
<td align="center">照光式100mmボタン x9</td>
<td align="center">2817(5395)円</td>
<td align="center">aliexpress</td>
</tr>
<tr>
<td align="center">type microB USBケーブル 1.8m</td>
<td align="center">500円</td>
<td align="center">Amazon</td>
</tr>
<tr>
<td align="center">木材(合板T2,MDF)</td>
<td align="center">1000円程</td>
<td align="center">ホームセンター</td>
</tr>
<tr>
<td align="center">バネ(三和200g)</td>
<td align="center">660円</td>
<td align="center"> - </td>
</tr>
<tr>
<td align="center">マイクロスイッチ D2MV-01-1C3</td>
<td align="center">1971円</td>
<td align="center">モノタロウ</td>
</tr>
<tr>
<td align="center"><b>合計</b></td>
<td align="center"><b>6948(9526)円</b></td>
<td align="center"> - </td>
</tr>
</table><br><br>
<p>使用した道具<br></p>
<table border = "1" align="center">
<tr>
<td align="center">ノコギリ</td>
</tr>
<tr>
<td align="center">くりぬくSAW</td>
</tr>
<tr>
<td align="center">金槌と釘</td>
</tr>
<tr>
<td align="center">ジャンパーワイヤーとリード線</td>
</tr>
<tr>
<td align="center">ドライバーとねじ</td>
</tr>
</table><br>
<p><a id = "i3"> </a><br></p>
<h3 >3. 箱の用意</h3>
枠に使用する木材を用意する<br>
用意した木材は<br>
<b>MDF</b><br>
70x30x5.5mm x2<br>
<b>T2</b><br>
70X8X12mm x2<br>
27.6X8X12mm x2<br>
67.6X8X12mm x1<br>
である。<br><br>
<img src="/images/20200905/IMG_5085.JPG" alt="popncon" /><br>
<p>2枚ずつあるT2の板を組み合わせ枠を作る。<br>
<img src="/images/20200905/IMG_5086.JPG" alt="popncon" /><br>
天板に使用するMDFにくり抜く場所を書き、切り抜く。<br>
寸法は「ポップン AC 寸法」で検索したものを参考にした。<br>
<img src="/images/20200905/IMG_5089.JPG" alt="popncon" /><br>
T2で作った枠に天板を載せ、ボタンを置くと以下のようになる。<br>
<img src="/images/20200905/IMG_5091.JPG" alt="popncon" /><br>
<img src="/images/20200905/IMG_5092.JPG" alt="popncon" /><br>
強度を高くするようにT2の枠の真ん中に木(67.6X8X12mm)入れ、横長の「日」の形にする。<br>
この木を後で回路が通るように真ん中を少し削る。<br>
<img src="/images/20200905/IMG_5120.JPG" alt="popncon" /><br>
天板と中に入れる木と枠を釘で固定する。塗装する場合は塗装後に固定する。<br>
<br></p>
<p><a id = "i4"> </a><br></p>
<h3 >4. ボタンと回路の用意</h3>
今回の回路は単純であることとarduino内部のプルアップ抵抗を使用することにより抵抗が必要ないことにより、基盤を用意しない。<br>
ボタンのバネとマイクロスイッチを入れ替える。<br>
購入当初のバネとマイクロスイッチは非常に固く使い物にならないため、交換する必要がある。<br>
また、ポップンボタン(照光式100mmボタン)は打撃音が大きいため、静音化をした方が良い。<br>
中華製ポップンボタンの改良化は気が向いたら別途記事にする。<br>
今回制作したコードではマイクロスイッチの中の真ん中と下の部分を使用するため、リード線をはんだ付けする。arduinoに接続するため、ジャンパーワイヤーともはんだ付けする。<br>
<img src="/images/20200905/IMG_5115.JPG" alt="popncon" /><br>
<img src="/images/20200905/IMG_5116.JPG" alt="popncon" /><br>
写真では真ん中にはんだ付けをしているが、下にも同様にはんだ付けをする。<br>
<br>
<p><a id = "i5"> </a><br></p>
<h3 >5. arduinoの用意</h3>
arduinoの出力をキーボード入力としてコントローラを作成するため、HID機能が備わっているarduino leonardoを使用する。<br>
arduino microでも良いのだが、arduinoを直接枠組に取り付けようと思ったため、 leonardoにした。<br>
arduino unoやmegaはHID機能がないため使用できない。<br>
arduino leonardo↓<br>
<img src="/images/20200905/IMG_5113.JPG" alt="popncon" /><br>
ソースコードは以下である。<br>
<div style="padding: 10px; margin-bottom: 10px; border: 1px solid #333333; background-color: #e6e6fa;">#include "HID-Project.h"<br>
void setup() {<br>
pinMode(2, INPUT_PULLUP);<br>
pinMode(3, INPUT_PULLUP);<br>
pinMode(4, INPUT_PULLUP);<br>
pinMode(5, INPUT_PULLUP);<br>
pinMode(6, INPUT_PULLUP);<br>
pinMode(7, INPUT_PULLUP);<br>
pinMode(8, INPUT_PULLUP);<br>
pinMode(9, INPUT_PULLUP);<br>
pinMode(10, INPUT_PULLUP);<br>
NKROKeyboard.begin();<br>
}<br>
void loop() {<br>
if(digitalRead(2) == LOW) NKROKeyboard.add('a'); else NKROKeyboard.remove('a');<br>
if(digitalRead(3) == LOW) NKROKeyboard.add('b'); else NKROKeyboard.remove('b');<br>
if(digitalRead(4) == LOW) NKROKeyboard.add('c'); else NKROKeyboard.remove('c');<br>
if(digitalRead(5) == LOW) NKROKeyboard.add('d'); else NKROKeyboard.remove('d');<br>
if(digitalRead(6) == LOW) NKROKeyboard.add('e'); else NKROKeyboard.remove('e');<br>
if(digitalRead(7) == LOW) NKROKeyboard.add('f'); else NKROKeyboard.remove('f');<br>
if(digitalRead(8) == LOW) NKROKeyboard.add('g'); else NKROKeyboard.remove('g');<br>
if(digitalRead(9) == LOW) NKROKeyboard.add('h'); else NKROKeyboard.remove('h');<br>
if(digitalRead(10) == LOW) NKROKeyboard.add('i'); else NKROKeyboard.remove('i');<br>
NKROKeyboard.send();<br>
}<br>
</div>
arduinoに元から備わっているライブラリでは同時推し数に限界があるため、HID-Projectライブラリを使用する。<br>
ライブラリの入れ方は検索すると出てくる。<br>
このコードではボタンを押すことでa~iが出力される。キーコンフィグをa~iにすることで動作する。コードを書き換えて望みのキーにしても良い。<br>
<br>
<p><a id = "i6"> </a><br></p>
<h3 >6. ボタンとarduinoの接続</h3>
制作した枠にarduinoを取り付ける。<br>
天板を切り抜いた時のものの上にarduinoを載せ、ねじで固定した。
<img src="/images/20200905/IMG_5121.JPG" alt="popncon" /><br>
ボタンをはめると以下のようになる。<br>
<img src="/images/20200905/IMG_5123.JPG" alt="popncon" /><br>
arduinoの2~10ピンにマイクロスイッチの真ん中と接続したジャンパーワイヤーを接続し、下と接続したジャンパーワイヤをGNDに接続する。<br>
GNDの数には限りがあるため、GND用のジャンパーワイヤーは2,3個にまとめておいた方が良い。<br>
マイクロスイッチをボタンにつける。<br>
<img src="/images/20200905/IMG_5124.JPG" alt="popncon" /><br>
arduinoにソースコードを書き込み、蓋をすれば完成である。<br>
蓋は開けるように蝶番をつけた。<br>
<br>
<p><a id = "i7"> </a><br></p>
<h3 >7. 塗装</h3>
塗装しなくても問題なく動くが、見た目を良くする事とMDFは水に弱い事から塗装を行う。<br>
塗装は専門のサイトを参考にした方が良いので、どのようにしたらどのようなものになったかを確かめる程度にしてほしい。
サンディングシーラーを表面に塗り乾いたら塗るを3,4回繰り返す。<br>
#400番程度のサンドぺーパーで表面を軽く磨き整えた後、スプレーを表面に吹きかける。<br>
スプレーも乾いたら吹きかけを3,4回繰り返す。<br>
<img src="/images/20200905/image0.jpg" alt="popncon" /><br>
完全に乾かす。<br>
<img src="/images/20200905/image1.jpg" alt="popncon" /><br>
枠に色をつけるため、マスキングテープを貼る。<br>
<img src="/images/20200905/IMG_5108.JPG" alt="popncon" /><br>
金のスプレーを吹きかけ、マスキングテープを剥がし乾かす。<br>
<img src="/images/20200905/IMG_5110.JPG" alt="popncon" /><br>
乾いたらニスを塗り乾いたらまた塗るを数回繰り返し、#1000番程度のサンドペーパーで表面を整えたら完成である。<br>
<img src="/images/20200905/IMG_5131.JPG" alt="popncon" /><br>
<br>
<p><a id = "i8"> </a><br></p>
<h3 >8. 思ったこと</h3>
作ったコントローラはACと同じようにうまく動作した、しかし自分は47までしかクリアできないため、発狂でもうまく動くかは上級者に確かめてもらう必要がある。<br>
ポプコンは非常に高いが、自作すれば1万以内に収まるので作る価値はあると思う。<br>
また、iidxやボルテと違いボタンのみであるため、制作も簡単である。<br>
ただ、木材を切り抜く作業や多数のはんだ付けなどがかなり大変であった。<br>
<p>天板や枠を釘で止めたため、隙間が空き、ボタンを叩いた時に音が大きくなったりコントローラ自体が揺れることがあった。<br>
そのため、天板と枠は釘と接着剤で隙間なく接着した方が良いと思った。</p>
</p>

    <h6>Author : おおん</h6>
    <br>
    <link rel="stylesheet" href="https://uo-oon.github.io/css/custom.css">
    <section class="section sns_parent">
  <div class="container sns_section">
      <div class="sns_button twitter">
        <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fuo-oon.github.io%2f10101%2fpopncon%2f&text='%e3%81%aa%e3%82%8b%e3%81%b9%e3%81%8f%e5%ae%89%e3%81%8f%e3%83%9d%e3%83%83%e3%83%97%e3%83%b3%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%a9%e3%82%92%e4%bd%9c%e3%82%8b'+ by おおん" target="_blank" title="Tweet"><i class="fab fa-twitter"></i></a>
      </div>
      <div class="sns_button hatena">
        <a href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fuo-oon.github.io%2f10101%2fpopncon%2f&title='%e3%81%aa%e3%82%8b%e3%81%b9%e3%81%8f%e5%ae%89%e3%81%8f%e3%83%9d%e3%83%83%e3%83%97%e3%83%b3%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%a9%e3%82%92%e4%bd%9c%e3%82%8b'+ by おおん" target="_blank" title="hatena"><i class="fa fa-hatena"></i></i></a>
      </div>
      <div class="sns_button facebook">
        <a href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fuo-oon.github.io%2f10101%2fpopncon%2f&t='%e3%81%aa%e3%82%8b%e3%81%b9%e3%81%8f%e5%ae%89%e3%81%8f%e3%83%9d%e3%83%83%e3%83%97%e3%83%b3%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%a9%e3%82%92%e4%bd%9c%e3%82%8b'+ by おおん" target="_blank" title="Facebook"><i class="fab fa-facebook"></i></a>
      </div>
      <div class="sns_button google">
        <a href="https://plus.google.com/share?url=https%3a%2f%2fuo-oon.github.io%2f10101%2fpopncon%2f" target="_blank" title="google+"><i class="fab fa-google-plus"></i></a>
      </div>
      <div class="sns_button pocket">
        <a href="http://getpocket.com/edit?url=https%3a%2f%2fuo-oon.github.io%2f10101%2fpopncon%2f&title='%e3%81%aa%e3%82%8b%e3%81%b9%e3%81%8f%e5%ae%89%e3%81%8f%e3%83%9d%e3%83%83%e3%83%97%e3%83%b3%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%a9%e3%82%92%e4%bd%9c%e3%82%8b'+ by おおん" target="_blank" title="pocket"><i class="fab fa-get-pocket"></i></a>
      </div>
  </div>
</section>

    


  <hr />
  <h3>tags</h3>
  <ul>
    
      <li>
          <a href="https://uo-oon.github.io/tags/daily/">daily</a>
        </li>
      <li>
          <a href="https://uo-oon.github.io/tags/technology/">technology</a>
        </li>
      <li>
          <a href="https://uo-oon.github.io/tags/%E9%9F%B3%E3%82%B2%E3%83%BC/">%E9%9F%B3%E3%82%B2%E3%83%BC</a>
        </li></ul>

  </div>
  


            </section>
<footer id="footer">
  <h1>おおん official site</h1>
    <ul class="icons">
        
    </ul>
    <ul class="copyright">
        
        <li>©2020 おおん</li>
        
        
        <li>Design : HTML5 UP</li>
        
        
        <li>Author : おおん</li>
        
    </ul>
</footer>
</div>
<script src="https://uo-oon.github.io/js/jquery.min.js"></script>
<script src="https://uo-oon.github.io/js/jquery.dropotron.min.js"></script>
<script src="https://uo-oon.github.io/js/jquery.scrollex.min.js"></script>
<script src="https://uo-oon.github.io/js/browser.min.js"></script>
<script src="https://uo-oon.github.io/js/breakpoints.min.js"></script>
<script src="https://uo-oon.github.io/js/util.js"></script>
<script src="https://uo-oon.github.io/js/main.js"></script></body>
</html>
